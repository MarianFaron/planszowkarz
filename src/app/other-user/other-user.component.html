<section id="user-panel" class="user-info-panel">
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<h3>Przeglądasz profil użytkownika: 
					<b>
						<span *ngIf="userInfo?.local && !userInfo?.facebook">{{userInfo?.local.login}}</span>
						<span *ngIf="userInfo?.facebook">{{userInfo?.facebook.name}}</span>
					</b>
				</h3>
				<hr class="main-hr">
			</div>
		</div>
		<div class="row">
			<div class="col-md-4 col-md-push-8 user-info">
				<div class="user-sidebar inner">
					<div class="other-info">
						<div *ngIf="userInfo">
							<img *ngIf="userInfo?.facebook" class="user-avatar" alt="facebook-avatar"
								src="http://graph.facebook.com/{{userInfo?.facebook.id}}/picture?width=160&amp;height=160"/>
							<img *ngIf="userInfo?.avatarImage" class="user-avatar" alt="user-avatar" 
								src="{{this.appService.getUrl('/assets/uploads/avatars/')}}{{userInfo?.avatarImage}}" />
						</div>
						<div *ngIf="!userInfo">
							<div class="text-center">
								<img src="../../assets/images/loading.gif" alt="" class="loading">
							</div>
						</div>
						<ul>
							<div class="user-info-box">
								<li class="username">
									<span *ngIf="userInfo?.local && !userInfo?.facebook">{{userInfo?.local.login}}</span>
									<span *ngIf="userInfo?.facebook">{{userInfo?.facebook.name}}</span>
								</li>
								<li *ngIf="userInfo?.contactNumber">
									<span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>Telefon: {{userInfo?.contactNumber}}
								</li>
								<div *ngIf="userInfo?.local && !userInfo?.facebook">
									<li *ngIf="userInfo?.local.email">
										<span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>
										Email: <a href="mailto:{{userInfo?.local.email}}">{{userInfo?.local.email}}</a>
									</li>
								</div>
								<div *ngIf="userInfo?.facebook">
									<li *ngIf="userInfo?.facebook.email">
										<span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>
										Email: <a href="mailto:{{userInfo?.facebook.email}}">{{userInfo?.facebook.email}}</a>
									</li>
								</div>
								<li *ngIf="userInfo?.dateBirth">
									<span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
									Data urodzenia: {{userInfo?.dateBirth}}
								</li>
								<li *ngIf="userInfo?.city" class="usercity">
									<span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
									Miasto: {{userInfo?.city}}
								</li>
							</div>
							<div class="user-info-box">
								<li>
									<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
									Liczba gier na wymianę: {{userInfo?.numberOfGames}}
								</li>
								<li>
									<span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
									Liczba przeprowadzonych wymian: {{userInfo?.numberOfExchanges}}
								</li>
								<li>
									<span class="glyphicon glyphicon-star" aria-hidden="true"></span>
									Ocena społeczności: {{userInfo?.sumOfGrades}}
								</li>
							</div>
						</ul>
					</div>
				</div>
			</div>
			<div class="col-md-8 col-md-pull-4">
				<div class="games-main-panel">
					<div class="games-info">
						<div class="games-panel-content ">
							<div *ngIf="!userGame">
			          			<div class="text-center">
			            			<img src="../../assets/images/loading.gif" alt="" class="loading">
			          			</div>
			        		</div>
							<div class="single-game-box" *ngFor="let game of userGame">
								<div class="single-box-content inner">									
									<div class="game-image">
										<a routerLink="/games/{{ game._id }}">
											<img src="{{this.appService.getUrl('/assets/uploads/covers/')}}{{ game.Image }}">
										</a>
									</div>
									
									<div class="game-info">
										<a routerLink="/games/{{ game._id }}">
											<p class="title">{{ game.title }}</p>
										</a>										
										<p><strong>Kategoria: </strong>{{ game.category }}</p>
										<p><strong>Stan: </strong>{{ game.state }}</p>
										<div class="game-info-buttons" *ngIf="this.appService.isLoggedIn()">
											<button *ngIf="this.appService.getCurrentUser()._id != game.userID._id" routerLink="/exchange/{{ game._id }}" 
											type="button" class="btn btn-default custom-button">
											Wymień się</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
