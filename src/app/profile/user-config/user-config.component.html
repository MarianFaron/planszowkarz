<div class="inner">
  <div class="form-group">
    <label>Avatar: </label>
    <img *ngIf="userInfo?.avatarImage" class="user-avatar" src="{{this.appService.getUrl('/assets/uploads/avatars/')}}{{userInfo?.avatarImage}}" alt="user-avatar" />
    <input type="file" name="photo" ng2FileSelect [uploader]="avatarUploader" #userAvatarImage (change)="onChange($event)" />
  </div>
  <div class="form-group">
    <label>Data urodzenia: </label>
    <my-date-picker name="mydate" [options]="myDatePickerOptions" [(ngModel)]="model.datepicker" required></my-date-picker>
  </div>
  <div class="form-group">
    <label>Miasto: </label>
    <input class="form-control" [ngModel]="model.city" minlength="3" name="city" placeholder="podaj miasto" value="{{userInfo?.city}}" #userCity="ngModel" />
    <div *ngIf="userCity.errors && (userCity.dirty || userCity.touched)" class="alert alert-danger">
      <div [hidden]="!userCity.errors.minlength">
        Wpisz co najmniej 3 znaki
      </div>
    </div>
  </div>
  <div class="form-group">
    <label>Numer telefonu: </label>
    <input type="text" class="form-control" minlength="9" maxlength="9" placeholder="666-888-999" value="{{userInfo?.contactNumber}}" [ngModel]="model.contactNumber" pattern="^\d+$" name="contactNumber"  #userContactNumber="ngModel" />
    <div *ngIf="userContactNumber.errors && (userContactNumber.dirty || userContactNumber.touched)" class="alert alert-danger">
      <div [hidden]="!userContactNumber.errors.pattern">
        Użyj tylko cyfr
      </div>
      <div [hidden]="!userContactNumber.errors.minlength">
        Wpisz 9 cyfr
      </div>
      <div [hidden]="!userContactNumber.errors.maxlength">
        Wpisz 9 cyfr
      </div>
    </div>
  </div>
  <div [ngClass]="{hidden: userInfo?.local == null}">
    <div class="form-group">
      <label>Hasło:</label>
      <input type="password" class="form-control" name="password" minlength="3" required [ngModel]="model.password" #userPassword="ngModel">
      <div *ngIf="userPassword.errors && (userPassword.dirty || userPassword.touched)" class="alert alert-danger">
        <div [hidden]="!userPassword.errors.required">
          Hasło jest wymagane
        </div>
        <div [hidden]="!userPassword.errors.minlength">
          Wpisz co najmniej 3 znaki
        </div>
      </div>
    </div>
    <div class="form-group">
      <label>Potwierdź hasło:</label>
      <input type="password" class="form-control" name="confirmPassword" minlength="3" validateEqual="password" required [ngModel]="model.confirmPassword" #userConfirmPassword="ngModel" />
      <div *ngIf="userConfirmPassword.errors && (userConfirmPassword.dirty || userConfirmPassword.touched)" class="alert alert-danger">
        <div [hidden]="!userConfirmPassword.errors.required">
          Potwierdzenie hasła jest wymagane
        </div>
        <div [hidden]="!userConfirmPassword.errors.minlength">
          Conajmniej 3 znaki
        </div>
        <div [hidden]="!userConfirmPassword.errors">
          Musi być takie samo jak hasło
        </div>
      </div>
    </div>

</div>
<div class="text-right">
  <button class="btn custom-button" data-toggle="modal" data-target="#edit-user" data-dismiss="modal">
    <i class="fa fa-save"></i> Zatwierdź</button>
</div>
</div>

<!-- Remove Game Modal -->

<div class="modal fade" id="edit-user" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Potwierdzenie</h4>
			</div>
			<div class="modal-body">
				<label>Czy na pewno chcesz zapisać zmiany na profilu?</label>
			</div>
			<div class="modal-footer">
				<button class="btn custom-button" (click)="avatarUploader.uploadAll(); editUserInfo(userInfo?._id, userCity.value, userContactNumber.value, userAvatarImage.value, userPassword.value)" data-dismiss="modal">Potwierdź</button>
			</div>
		</div>
	</div>
</div>
